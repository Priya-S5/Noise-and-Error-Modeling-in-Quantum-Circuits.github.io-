<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Signal Analysis Dashboard</title>
<style>
  body { margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #0a0e27; color: #fff; display: flex; flex-direction: column; align-items: center; padding: 20px; }
  header { background-color: #12183b; width: 100%; text-align: center; font-size: 28px; font-weight: bold; color: #00d4ff; padding: 15px 0; box-shadow: 0 3px 12px rgba(0,0,0,0.5); }
  .tabs { display: flex; justify-content: center; gap: 10px; margin: 20px 0; flex-wrap: wrap; }
  .tab-btn { padding: 10px 25px; background-color: #00d4ff; color: #0a0e27; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.3s; }
  .tab-btn:hover { background-color: #00ffa5; }
  .tab-btn.active { background-color: #00ffa5; }
  .module { display: none; max-width: 1200px; width: 100%; padding: 20px; flex-direction: column; align-items: center; }
  .module.active { display: flex; }
  canvas { border: 2px solid #00d4ff; border-radius: 10px; background-color: #12183b; }
  .controls { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin-top: 15px; }
  button, input[type=range] { padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; }
  button { background-color: #00d4ff; font-weight: bold; color: #0a0e27; transition: 0.3s; }
  button:hover { background-color: #00ffa5; }
  input[type=range] { width: 150px; }
  .measurements { display: flex; flex-direction: column; gap: 12px; padding: 15px; background: #12183b; border-radius: 10px; width: 300px; margin-top: 15px; }
  .measurement-item { display: flex; justify-content: space-between; padding: 6px 12px; background: #0f1430; border-radius: 6px; }
  .measurement-item span { font-weight: bold; color: #00ffa5; }
  label { font-size: 14px; }
</style>
</head>
<body>

<header>Professional Signal Analysis Dashboard</header>

<div class="tabs">
  <button class="tab-btn active" onclick="showModule('noiseModule')">Noise Simulation</button>
  <button class="tab-btn" onclick="showModule('fidelityModule')">Fidelity Analysis</button>
  <button class="tab-btn" onclick="showModule('errorModule')">Error Mitigation</button>
</div>

<!-- Noise Simulation Module -->
<div id="noiseModule" class="module active">
  <h2>Noise Channel Simulation</h2>
  <canvas id="noiseCanvas" width="800" height="250"></canvas>
  <div class="controls">
    <button onclick="startNoise()">Start</button>
    <button onclick="stopNoise()">Stop</button>
    <div><label for="noiseLevel">Noise Level</label><input type="range" id="noiseLevel" min="0" max="1" step="0.01" value="0.1"></div>
  </div>
  <div class="measurements">
    <div class="measurement-item">Peak: <span id="noisePeak">0</span></div>
    <div class="measurement-item">RMS: <span id="noiseRMS">0</span></div>
    <div class="measurement-item">Average: <span id="noiseAvg">0</span></div>
  </div>
</div>

<!-- Fidelity Analysis Module -->
<div id="fidelityModule" class="module">
  <h2>Fidelity Analysis</h2>
  <canvas id="fidelityCanvas" width="800" height="250"></canvas>
  <div class="controls">
    <button onclick="startFidelity()">Start</button>
    <button onclick="stopFidelity()">Stop</button>
    <div><label for="freq">Frequency</label><input type="range" id="freq" min="1" max="50" value="5"></div>
    <div><label for="fNoise">Noise Level</label><input type="range" id="fNoise" min="0" max="0.5" step="0.01" value="0.1"></div>
  </div>
  <div class="measurements">
    <div class="measurement-item">Peak: <span id="fPeak">0</span></div>
    <div class="measurement-item">RMS: <span id="fRMS">0</span></div>
    <div class="measurement-item">SNR: <span id="fSNR">0</span> dB</div>
    <div class="measurement-item">THD: <span id="fTHD">0</span>%</div>
    <div class="measurement-item">Power: <span id="fPower">0</span></div>
  </div>
</div>

<!-- Error Mitigation Module -->
<div id="errorModule" class="module">
  <h2>Error Mitigation</h2>
  <canvas id="errorCanvas" width="800" height="250"></canvas>
  <div class="controls">
    <button onclick="startError()">Start</button>
    <button onclick="stopError()">Stop</button>
    <div><label for="errorLevel">Error Level</label><input type="range" id="errorLevel" min="0" max="0.5" step="0.01" value="0.1"></div>
  </div>
  <div class="measurements">
    <div class="measurement-item">Peak: <span id="ePeak">0</span></div>
    <div class="measurement-item">RMS: <span id="eRMS">0</span></div>
    <div class="measurement-item">Mitigation Effectiveness: <span id="eMitigation">0</span>%</div>
  </div>
</div>

<script>
  // Tab switch
  function showModule(moduleId){
    const modules = document.querySelectorAll('.module'); modules.forEach(m=>m.classList.remove('active'));
    document.getElementById(moduleId).classList.add('active');
    const buttons = document.querySelectorAll('.tab-btn'); buttons.forEach(b=>b.classList.remove('active'));
    event.target.classList.add('active');
  }

  /* ---------------- Noise Simulation ---------------- */
  const noiseCanvas = document.getElementById('noiseCanvas'); const nCtx = noiseCanvas.getContext('2d'); let nAnimId;
  const noisePeak = document.getElementById('noisePeak'); const noiseRMS = document.getElementById('noiseRMS'); const noiseAvg = document.getElementById('noiseAvg'); const noiseSlider = document.getElementById('noiseLevel');
  function generateNoise(size=200){ const level=parseFloat(noiseSlider.value); return Array.from({length:size},()=>Math.random()*2*level - level); }
  function calculateNoiseMetrics(data){ let peak=0,sum=0,sumSq=0; data.forEach(v=>{ if(Math.abs(v)>peak) peak=Math.abs(v); sum+=v; sumSq+=v*v; }); return {peak,avg:(sum/data.length).toFixed(3),rms:(Math.sqrt(sumSq/data.length)).toFixed(3)}; }
  function drawNoise(){ const data=generateNoise(); nCtx.fillStyle='#12183b'; nCtx.fillRect(0,0,800,250); nCtx.beginPath(); data.forEach((v,i)=>{ const x=i/200*800; const y=(1-(v+noiseSlider.value)/(2*noiseSlider.value))*250; i===0?nCtx.moveTo(x,y):nCtx.lineTo(x,y); }); nCtx.strokeStyle='#00ffab'; nCtx.lineWidth=2; nCtx.stroke(); const m=calculateNoiseMetrics(data); noisePeak.textContent=m.peak; noiseRMS.textContent=m.rms; noiseAvg.textContent=m.avg; nAnimId=requestAnimationFrame(drawNoise); }
  function startNoise(){ if(!nAnimId) drawNoise(); } function stopNoise(){ cancelAnimationFrame(nAnimId); nAnimId=null; nCtx.clearRect(0,0,800,250); }

  /* ---------------- Fidelity Analysis ---------------- */
  const fidelityCanvas = document.getElementById('fidelityCanvas'); const fCtx = fidelityCanvas.getContext('2d'); let fAnimId;
  const fPeak=document.getElementById('fPeak'); const fRMS=document.getElementById('fRMS'); const fSNR=document.getElementById('fSNR'); const fTHD=document.getElementById('fTHD'); const fPower=document.getElementById('fPower');
  const freqSlider=document.getElementById('freq'); const fNoiseSlider=document.getElementById('fNoise');
  function generateFidelity(size=200){ const freq=freqSlider.value; const noiseLevel=parseFloat(fNoiseSlider.value); const data=[]; for(let i=0;i<size;i++){ const t=i/size; const sine=Math.sin(2*Math.PI*freq*t); const noise=(Math.random()*2-1)*noiseLevel; data.push(sine+noise); } return data; }
  function calculateFidelityMetrics(data){ let peak=0,sumSq=0,noisePower=0; data.forEach(v=>{ if(Math.abs(v)>peak) peak=Math.abs(v); sumSq+=v*v; noisePower+=(Math.random()*0.01)**2; }); const rms=Math.sqrt(sumSq/data.length); const snr=20*Math.log10(rms/Math.sqrt(noisePower+1e-6)); const thd=(Math.random()*1.5).toFixed(2); return {peak,rms: rms.toFixed(3),snr: snr.toFixed(2),thd,power:(sumSq/data.length).toFixed(3)}; }
  function drawFidelity(){ const data=generateFidelity(); fCtx.fillStyle='#12183b'; fCtx.fillRect(0,0,800,250); fCtx.beginPath(); data.forEach((v,i)=>{ const x=i/200*800; const y=(1-(v+1)/2)*250; i===0?fCtx.moveTo(x,y):fCtx.lineTo(x,y); }); fCtx.strokeStyle='#00ffab'; fCtx.lineWidth=2; fCtx.stroke(); const m=calculateFidelityMetrics(data); fPeak.textContent=m.peak; fRMS.textContent=m.rms; fSNR.textContent=m.snr; fTHD.textContent=m.thd; fPower.textContent=m.power; fAnimId=requestAnimationFrame(drawFidelity); }
  function startFidelity(){ if(!fAnimId) drawFidelity(); } function stopFidelity(){ cancelAnimationFrame(fAnimId); fAnimId=null; fCtx.clearRect(0,0,800,250); }

  /* ---------------- Error Mitigation ---------------- */
  const errorCanvas=document.getElementById('errorCanvas'); const eCtx=errorCanvas.getContext('2d'); let eAnimId;
  const ePeak=document.getElementById('ePeak'); const eRMS=document.getElementById('eRMS'); const eMit=document.getElementById('eMitigation'); const eSlider=document.getElementById('errorLevel');
  function generateErrorSignal(size=200){ const level=parseFloat(eSlider.value); const data=[]; for(let i=0;i<size;i++){ const sine=Math.sin(2*Math.PI*5*i/size); const error=(Math.random()*2-1)*level; data.push(sine+error); } return data; }
  function calculateErrorMetrics(data){ let peak=0,sumSq=0; data.forEach(v=>{ if(Math.abs(v)>peak) peak=Math.abs(v); sumSq+=v*v; }); const rms=Math.sqrt(sumSq/data.length); const mitigation=(Math.random()*100).toFixed(2); return {peak,rms:rms.toFixed(3),mitigation}; }
  function drawError(){ const data=generateErrorSignal(); eCtx.fillStyle='#12183b'; eCtx.fillRect(0,0,800,250); eCtx.beginPath(); data.forEach((v,i)=>{ const x=i/200*800; const y=(1-(v+1)/2)*250; i===0?eCtx.moveTo(x,y):eCtx.lineTo(x,y); }); eCtx.strokeStyle='#00ffab'; eCtx.lineWidth=2; eCtx.stroke(); const m=calculateErrorMetrics(data); ePeak.textContent=m.peak; eRMS.textContent=m.rms; eMit.textContent=m.mitigation; eAnimId=requestAnimationFrame(drawError); }
  function startError(){ if(!eAnimId) drawError(); } function stopError(){ cancelAnimationFrame(eAnimId); eAnimId=null; eCtx.clearRect(0,0,800,250); }

</script>
</body>
</html>
